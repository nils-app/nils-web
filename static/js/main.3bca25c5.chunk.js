(this["webpackJsonpnils-web"]=this["webpackJsonpnils-web"]||[]).push([[0],{225:function(e,a,t){e.exports=t.p+"static/media/transferwise_logo.c337535a.png"},226:function(e,a,t){e.exports={transferwise:"TransferWise_transferwise__11i5i"}},227:function(e,a,t){e.exports={offline:"OfflineCheck_offline__2vKbm"}},253:function(e,a,t){e.exports=t(481)},258:function(e,a,t){},263:function(e,a,t){e.exports=t.p+"static/media/logo.0e05e3c5.png"},264:function(e,a,t){},272:function(e,a,t){},273:function(e,a,t){},278:function(e,a,t){},302:function(e,a,t){},480:function(e,a,t){},481:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=t.n(r),o=t(22),s=t(10),i=t(74),m=Object(i.a)((function(e,a){switch(console.info("REDUCER: ",a.type),console.log(a.payload),a.type){case"login":if(e.auth.checked=!0,!a.payload)break;e.auth.loggedIn=!0,e.auth.user=a.payload.user,e.auth.csrf=a.payload.csrf;break;case"balance":e.auth.user&&(e.auth.user.balance=a.payload.personal),e.domains=a.payload.domains;break;case"payouts":e.payouts=a.payload;break;case"addDomain":e.domains.push(a.payload);break;case"deleteDomain":var t=e.domains.findIndex((function(e){return e.uuid===a.payload}));t>-1&&e.domains.splice(t);break;case"setPayoutsTransferwise":e.auth.user&&(e.auth.user.transferwise_id=a.payload);break;case"status":e.offline=a.payload.offline}})),u={auth:{checked:!1,loggedIn:!1,user:null,csrf:null},offline:!1,domains:[],payouts:[]},d=l.a.createContext({state:u,dispatch:function(){return console.warn("Using default reducer, check StateProvider"),u}}),E=function(){return l.a.useContext(d)},h=(t(258),t(75)),p=t(18),f=t(208),y=t(133),b=t(21),g=t(485),w=t(486),v=t(211),N=t(495),k=t(496),x=t(487),T=t(9),S=t(494),O=t(492),D=t(484),j=t(263),C=function(){return l.a.createElement(D.a,{src:j,alt:"N",className:"nils-logo"})},_=(t(264),function(){var e=E().state,a=e.auth.checked,t=e.auth.loggedIn;return l.a.createElement(S.a,{className:"main",bg:"light",variant:"dark"},l.a.createElement(g.a,null,l.a.createElement(S.a.Brand,{as:o.c,to:"/"},l.a.createElement(C,null)," Nils"),l.a.createElement(S.a.Collapse,{className:"justify-content-end"},l.a.createElement(O.a.Link,{as:o.c,to:"/",exact:!0},"Home"),!a&&l.a.createElement(O.a.Item,null,l.a.createElement(T.a,{icon:"spinner",pulse:!0})),a&&!t&&l.a.createElement(O.a.Link,{as:o.c,to:"/login",exact:!0},l.a.createElement(T.a,{icon:"sign-in-alt"})," Sign In"),a&&t&&l.a.createElement(O.a.Link,{as:o.c,to:"/dashboard",exact:!0},"Dashboard"))))}),A=(t(272),function(e){return l.a.createElement("footer",null,l.a.createElement("div",{className:"more"},l.a.createElement(g.a,null,l.a.createElement(w.a,null,l.a.createElement(v.a,null,l.a.createElement("h4",null,"Want to help?"),l.a.createElement("p",null,"Reach out on ",l.a.createElement("a",{href:"mailto:help@nilsapp.com"},"help@nilsapp.com")),l.a.createElement("p",null,"View and contribute to ",l.a.createElement("a",{href:"https://github.com/nils-app"},"Nils on Github"),"."),l.a.createElement("p",null,"Nils is Open Source, released under the ",l.a.createElement("a",{href:"https://github.com/nils-app/nils-web/blob/master/LICENSE"},"AGPL-3 License"),".")),l.a.createElement(v.a,null,l.a.createElement("h4",null,"About"),l.a.createElement("p",null,"Nils is only a small Proof of Concept of what the future web could be."),l.a.createElement("p",null,"Hopefully one day more ideas like Nils appear, and the web changes as a whole!"))))),l.a.createElement("div",{className:"company"},l.a.createElement(g.a,null,l.a.createElement(w.a,null,l.a.createElement(v.a,null,"Made with ",l.a.createElement(T.a,{icon:"heart"})," in London, UK"),l.a.createElement(v.a,{md:2,className:"text-right"},"\xa9 Nils")))))}),F=(t(273),[{question:"Why would I pay random websites??",answer:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"That's probably the best question you could ask! And it's not an easy one to answer, given how we're used to a \"free\" Internet."),l.a.createElement("p",null,"Notice the quotes on free, they're there because (in general) there's no free lunch. This means that if you don't directly pay with money chances are you're paying with something else."),l.a.createElement("p",null,"A ton of website owners, blog writers, or content creators want to monetise their content but hate the idea of putting ads along with their content. On top of that,  ",l.a.createElement("a",{title:"27% in 2019 in the US apparently",href:"https://www.statista.com/statistics/804008/ad-blocking-reach-usage-us/"},"most users")," tend to browse with an ",l.a.createElement("b",null,"ad blocker"),", and that includes me! But I'm also a software developer with some websites online. And it would be nice if their users covered at least the cost of keeping them online!"),l.a.createElement("p",null,"So instead of paying with your data, or by viewing ads, why not pay actual money and be in control?"),l.a.createElement("p",null),l.a.createElement("p",null,l.a.createElement("b",null,"Nils")," allows you to easily give each website you visit a little tip. This can go from \xa30.001 to whatever you want."),l.a.createElement("p",null),l.a.createElement("blockquote",{className:"blockquote shadow-sm"},l.a.createElement("p",null,"Some sites may choose to use Nil and still serve ads. I'm still unsure of whether this is something we should enforce with policy, or allow assuming users will have an ",l.a.createElement("b",null,"ad blocker"),"...",l.a.createElement("br",null),"I'm open to hearing opinions on this.")))},{question:"How does it work?",answer:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"As a user, you charge your balance with money (\xa31 = 1000 Nils, most other currencies supported)",l.a.createElement("br",null),"Then you install the Nils browser extension, and link it to your account."),l.a.createElement("p",null),l.a.createElement("p",null,"Whenever you browse to a website that is registered with Nils, 1 Nil is automatically credited to them."),l.a.createElement("p",null,"You know that this has happened because the extension icon will turn green. This payment can easily be cancelled by clicking on the extension icon. Each website can only receive a tip once per day."),l.a.createElement("p",null),l.a.createElement("p",null,"As a website owner, you register with Nils and claim your domains.",l.a.createElement("br",null),"From now on, every time a user with the Nils extension visits your website you'll get a tip!"),l.a.createElement("p",null,"As soon as you hit the minimum payout amount (10k Nils) you'll get paid :)"))},{question:"Can everyone use it?",answer:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("em",null,"Short answer:")," ",l.a.createElement("b",null,"Yes!")),l.a.createElement("p",null,l.a.createElement("em",null,"Long answer:")," We use Stripe to process card payments, so almost ",l.a.createElement("a",{href:"https://stripe.com/docs/currencies#presentment-currencies"},"every currency")," is supported.",l.a.createElement("br",null),"For our payouts to website owners and creators we use Transferwise, also supporting ",l.a.createElement("a",{href:"https://transferwise.com/help/11/getting-started/2571942/what-countries-can-i-send-to"},"most countries"),"."),l.a.createElement("p",null),l.a.createElement("p",null,"If you're in a country that's not supported, reach out to us and we'll see if there's something we can do."))},{question:"Is Nils a cryptocurrency?",answer:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("b",null,"No.")," At the moment Nils is just a proof of concept, trying to figure out whether this idea is worth doing!"),l.a.createElement("p",null,"At some point though it may make sense to convert Nils into a cryptocurrency. That would give more transparency into how money moves, but may come with privacy concerns so we'll see."),l.a.createElement("p",null),l.a.createElement("p",null,"The Brave browser has ",l.a.createElement("a",{href:"https://brave.com/brave-rewards/"},"something similar"),", where they pay users in a cryptocurrency (BAT) for viewing non-tracking ads, and distribute the BATs among websites visited, so it just differs in how users get the money. ",l.a.createElement("br",null),"It might even be worth looking into integrating with their system in the future if this works."),l.a.createElement("p",null),l.a.createElement("p",null,"Feel free to get in touch if you have an opinion on this."))},{question:"Any other questions?",answer:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Just reach out directly at help@nilsapp.com if you have any questions!"))}]),B=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"landing"},l.a.createElement("div",{className:"bg-angle"}),l.a.createElement("section",null,l.a.createElement(_,null),l.a.createElement(g.a,null,l.a.createElement(w.a,null,l.a.createElement(v.a,null,l.a.createElement("div",{className:"hero"},l.a.createElement("h2",null,"Tip the Web"),l.a.createElement("p",null,"Support content creators on the web directly."))))))),l.a.createElement("section",{className:"content"},l.a.createElement(g.a,null,l.a.createElement(w.a,{className:"mb-5"},l.a.createElement(v.a,null,l.a.createElement("h3",{className:"small"},"Frequently Asked Questions"),l.a.createElement(N.a,{className:"simple"},F.map((function(e,a){return l.a.createElement(k.a,{key:e.question},l.a.createElement(N.a.Toggle,{as:k.a.Header,eventKey:String(a)},e.question,l.a.createElement("div",{style:{float:"right"}},l.a.createElement(T.a,{icon:"angle-right"}))),l.a.createElement(N.a.Collapse,{eventKey:String(a)},l.a.createElement(k.a.Body,null,e.answer)))}))))),l.a.createElement(w.a,null,l.a.createElement(v.a,{className:"get-started mt-5 text-center shadow"},l.a.createElement(w.a,{className:"justify-content-md-center"},l.a.createElement(v.a,{md:5,className:"border-right pr-3"},l.a.createElement("h3",null,"Content Creator?"),l.a.createElement("p",null,"Get paid by your users for your content!"),l.a.createElement("p",null,"Earn more for content you publish on your website, or platforms such as YouTube, Twitch, Github..."),l.a.createElement(x.a,{variant:"secondary",className:"rounded-pill",href:"/dashboard"},"Sign Up")),l.a.createElement(v.a,{md:5,className:"pl-5"},l.a.createElement("h3",null,"Web user?"),l.a.createElement("p",null,"Support your favourite content creators on the web directly easily!"),l.a.createElement(x.a,{variant:"secondary",className:"rounded-pill",href:"/dashboard"},"Download extension"))))),l.a.createElement(w.a,null,l.a.createElement(v.a,{className:"mt-5"},l.a.createElement("h2",{className:"mb-4"},"Roadmap"),l.a.createElement("h5",null,"Support content sharing platforms"),l.a.createElement("p",null,"Nils allows website owners to register their domains and receive payments from users."),l.a.createElement("p",null,"This model doesn't work for content sharing platforms (i.e. YouTube, Medium, Twitch... ) where the actual owner is not the creator of the content."),l.a.createElement("p",null,"If Nils is something that people use, we could consider expanding the scope to these platforms, allowing users to prove ownership of their accounts there."),l.a.createElement("h5",null,"Other ideas"),l.a.createElement("p",null,"As all projects do, Nils will be open to evolve in the direction that best fits it's vision of an Internet that's not built around ads."),l.a.createElement("p",null,"All of the technology is open source, so feel free to either contribute with code or ideas!"))))),l.a.createElement(A,null))},P=t(23),I=t.n(P),L=t(2),z=t.n(L),G="http://nils.local",H=(t(278),["Github","Google"]),q=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement("title",null,"Login")),l.a.createElement("header",null,l.a.createElement("div",{className:"bg-angle"}),l.a.createElement("section",null,l.a.createElement(_,null),l.a.createElement(g.a,null,l.a.createElement(w.a,null,l.a.createElement(v.a,{md:{span:6,offset:3}},l.a.createElement("div",{className:"login-form shadow text-center"},l.a.createElement("h2",{className:"mb-5"},"Sign in"),H.map((function(e){var a=e.toLowerCase();return l.a.createElement("a",{key:e,href:"".concat(G,"/auth/").concat(a,"?returnTo=http://localhost:3000/dashboard"),className:z()("btn","btn-".concat(a),"mb-4","mx-2")},l.a.createElement(T.a,{icon:["fab",a]}),"Sign in with ",e)})),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("a",{href:"".concat(G,"/auth/local/demo?returnTo=http://localhost:3000/dashboard"),className:z()("btn","btn-primary","mb-4","mx-2")},"Demo account")),l.a.createElement("hr",{className:"mt-5 mb-4"}),l.a.createElement("p",{className:"text-muted"},l.a.createElement("small",null,"We'll create an account for you if it's your first time signing in.")))))))))},M=t(27),W=t.n(M),U=t(47),R=t(135),V=t.n(R),Y="";V.a.defaults.withCredentials=!0;var K=function(){var e=Object(U.a)(W.a.mark((function e(a,t,n){var l,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("'url' is required for fetching data");case 2:return l="".concat(G).concat(a),r={url:l,method:t,data:n,timeout:6e3,withCredentials:!0,xsrfHeaderName:"x-csrf-token",headers:{}},Y.length>0&&(r.headers["x-csrf-token"]=Y),e.prev=5,e.next=8,V()(r);case 8:return(c=e.sent).headers["x-csrf-token"]&&(Y=c.headers["x-csrf-token"]),e.next=12,c.data;case 12:return e.abrupt("return",e.sent);case 15:if(e.prev=15,e.t0=e.catch(5),!e.t0.response){e.next=23;break}throw console.warn("useFetch error",e.t0.response),{status:e.t0.response.status,message:e.t0.response.data?e.t0.response.data.errors.join(", "):e.t0.message};case 23:throw console.warn("useFetch error",e.t0),{status:500,message:e.t0.message};case 26:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(a,t,n){return e.apply(this,arguments)}}(),J=function(e,a,t){var l=Object(n.useState)(null),r=Object(s.a)(l,2),c=r[0],o=r[1],i=Object(n.useState)(!0),m=Object(s.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)(null),h=Object(s.a)(E,2),p=h[0],f=h[1];return Object(n.useEffect)((function(){(function(){var n=Object(U.a)(W.a.mark((function n(){var l;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,K(e,a,t);case 3:l=n.sent,f(l),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),o(n.t0);case 10:return n.prev=10,d(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(){return n.apply(this,arguments)}})()()}),[e,a,t]),[u,p,c]},X={weekday:"long",year:"numeric",month:"long",day:"numeric"},Q=function(e){return e?new Date(e).toLocaleDateString(void 0,X):""},Z=t(493),$=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a.Link,{onClick:function(){return r(!0)}},l.a.createElement(T.a,{icon:"question-circle"})," Help"),l.a.createElement(Z.a,{show:t,onHide:function(){return r(!1)}},l.a.createElement(Z.a.Header,{className:"bg-fade",closeButton:!0},l.a.createElement(Z.a.Title,null,l.a.createElement(T.a,{icon:"question-circle"})," Help")),l.a.createElement(Z.a.Body,null,l.a.createElement("p",null,"I hope everything is going well with Nils ",l.a.createElement(T.a,{icon:["far","smile"]})),l.a.createElement("p",null,"In any case I'm here to help, please reach out to me directly at:"),l.a.createElement("p",null,l.a.createElement("a",{href:"mailto:help@nilsapp.com"},"help@nilsapp.com")))))},ee=(t(302),function(e){var a=[{link:"",text:"Dashboard",icon:"columns"},{link:"balance",text:"Balance history",icon:"coins"},{link:"domains",text:"Domains",icon:"at"},{link:"payouts",text:"Payouts",icon:"credit-card"}];return E().state.domains.length<1&&a.splice(0,2),l.a.createElement(w.a,{className:"header"},l.a.createElement(v.a,null,l.a.createElement(S.a,{bg:"transparent",variant:"dark",expand:"md"},l.a.createElement(S.a.Brand,{as:o.c,to:"/"},l.a.createElement(C,null)),l.a.createElement(S.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(S.a.Collapse,null,l.a.createElement(O.a,{defaultActiveKey:"/dashboard/",className:"mr-auto"},a.map((function(e){return l.a.createElement(O.a.Link,{as:o.c,to:"/dashboard/".concat(e.link),key:e.link,exact:!0},e.text)}))),l.a.createElement(O.a,null,l.a.createElement($,null),l.a.createElement(O.a.Link,{href:"".concat(G,"/users/logout")},l.a.createElement(T.a,{icon:"sign-out-alt"})," Sign Out"))))))}),ae=t(488),te=t(497),ne=function(e){if("undefined"===typeof e.change)return null;var a="text-success",t="arrow-up";return e.change<0&&(a="text-danger",t="arrow-down"),l.a.createElement("span",{className:z()("change",a)},l.a.createElement(T.a,{icon:t})," ",e.change,"%")},le=function(e){var a=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"title"},e.title),l.a.createElement("span",{className:"content"},e.content),e.icon&&l.a.createElement("span",{className:z()("icon",e.iconBg)},l.a.createElement(T.a,{icon:e.icon})),l.a.createElement("div",{className:"history"},l.a.createElement(ne,e),l.a.createElement("span",{className:"text-muted"},e.history)));if(a=e.href?l.a.createElement(o.b,{to:e.href,className:"dashboard-widget"},a):l.a.createElement("div",{className:"dashboard-widget"},a),!e.tooltip)return a;var t=l.a.createElement(ae.a,{id:"counterTooltip"},e.tooltip);return l.a.createElement(te.a,{delay:{show:50,hide:0},overlay:t},a)},re=t(489),ce=function(e){return l.a.createElement("div",{className:"dashboard-widget"},l.a.createElement("h2",null,e.header),l.a.createElement("div",{className:"table-widget"},l.a.createElement(re.a,{responsive:!0,striped:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,e.columns.map((function(e){return l.a.createElement("th",{key:e},e)})))),l.a.createElement("tbody",null,e.data.map((function(a,t){return l.a.createElement("tr",{key:t},e.columns.map((function(e){return l.a.createElement("td",{key:e},a[e.toLowerCase()])})))}))))))},oe=function(){var e=E().state,a=e.domains,t=e.payouts,n=null,r="N/A",c="";if(t){(n=t.find((function(e){return!e.sent_on&&e.estimated_on})))&&n.estimated_on&&(r=Q(n.estimated_on));var o=t.find((function(e){return e.sent_on}));o&&o.sent_on&&(c="Last: ".concat(Q(o.sent_on)))}var s=e.auth.user?"".concat(e.auth.user.balance," Nils"):0;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header bg-gradient"},l.a.createElement(ee,null),l.a.createElement(w.a,null,l.a.createElement(v.a,{xs:12,sm:!0},l.a.createElement(le,{title:"Balance",content:s,icon:"coins",iconBg:"green",href:"/dashboard/balance",tooltip:"View your monthly balance aggregated from all your domains"})),l.a.createElement(v.a,{xs:12,sm:!0},l.a.createElement(le,{title:"Domains",content:e.domains.length,icon:"at",iconBg:"blue",href:"/dashboard/domains",tooltip:"Add/Remove Domains"})),l.a.createElement(v.a,{xs:12,sm:!0},l.a.createElement(le,{title:"Next payout",content:r,icon:"credit-card",iconBg:"orange",history:c,href:"/dashboard/payouts",tooltip:"View your payout settings and history. Your next payout date will appear as soon as your account has some balance"})))),l.a.createElement(w.a,{className:"content"},l.a.createElement(v.a,null,l.a.createElement(ce,{header:"Balances",columns:["Domain","Balance"],data:a})),l.a.createElement(v.a,null,l.a.createElement(ce,{header:"Payouts",columns:["Date","Amount"],data:t}))))},se=t(30),ie=[{name:"Jan",2018:40,2019:14},{name:"Feb",2018:45,2019:24},{name:"Mar",2018:60,2019:98},{name:"May",2018:10,2019:15},{name:"Jun",2018:18.9,2019:48},{name:"Jul",2018:23.9,2019:58},{name:"Aug",2018:34.9,2019:70},{name:"Sep",2018:5,2019:10},{name:"Oct",2018:14,2019:0},{name:"Nov",2018:34.9,2019:0}],me=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement("title",null,"Balance history")),l.a.createElement("div",{className:"header bg-gradient"},l.a.createElement(ee,null)),l.a.createElement(w.a,{className:"content padded"},l.a.createElement(v.a,null,l.a.createElement("div",{className:"dashboard-widget"},l.a.createElement("h2",null,"Balance history"),l.a.createElement(se.f,{width:"100%",height:300},l.a.createElement(se.d,{data:ie,margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(se.a,{strokeDasharray:"3 3"}),l.a.createElement(se.h,{dataKey:"name"}),l.a.createElement(se.i,null),l.a.createElement(se.e,{x:"May",stroke:"#512c62"}),l.a.createElement(se.e,{x:"Sep",stroke:"#512c62"}),l.a.createElement(se.g,null),l.a.createElement(se.b,null),l.a.createElement(se.c,{type:"linear",dataKey:"2018",stroke:"#f75f00",animationDuration:500}),l.a.createElement(se.c,{type:"linear",dataKey:"2019",stroke:"#c93838",animationDuration:500})))))))},ue=t(28),de=t(490),Ee=t(491),he=t(225),pe=t.n(he),fe=t(226),ye=t.n(fe),be=function(){return l.a.createElement("div",{className:ye.a.transferwise},l.a.createElement("span",null,"Powered by"),l.a.createElement("img",{src:pe.a,alt:"TransferWise"}))},ge=function(){var e=E().state,a=Object(ue.a)({twPayouts:{}}),t=Object(s.a)(a,2),r=t[0],c=t[1];Object(n.useEffect)((function(){e.payouts.length>0&&e.payouts.forEach((function(e){var a=e.tx_id;K("/payouts/".concat(a),"GET").then((function(e){c((function(t){t.twPayouts[a]=e})),console.log("tx info",e)}),(function(e){console.error(e)}))}))}),[e.payouts,c]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table-widget"},l.a.createElement(re.a,{responsive:!0,striped:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Created On"),l.a.createElement("th",null,"Sent On"))),l.a.createElement("tbody",null,e.payouts.map((function(e){return l.a.createElement("tr",{key:e.uuid,className:z()("hover-show")},l.a.createElement("td",null,e.amount_fiat," ",e.currency),l.a.createElement("td",null,function(e){var a=r.twPayouts[e];if(!a)return"";var t=a.status.replace(/_/gim," ");return t.charAt(0).toUpperCase()+t.slice(1)}(e.tx_id)),l.a.createElement("td",null,Q(e.created_on)),l.a.createElement("td",null,Q(e.sent_on)))})))),e.payouts.length<1&&l.a.createElement(de.a,{variant:"warning",className:"mx-3"},"No payouts have been scheduled yet. ",l.a.createElement("br",null),"Your first payout will be scheduled soon after your balance reaches the minimum of 1000 Nils.")))},we=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{icon:"spinner",pulse:!0})," ",e.text||"Loading")},ve=function(){var e=E().state,a=Object(ue.a)({twData:null,showModal:!1,loading:!0,error:null}),t=Object(s.a)(a,2),r=t[0],c=t[1];if(!e.auth.user||!e.auth.user.transferwise_id)return null;var o=function(){c((function(e){e.showModal=!e.showModal}))};Object(n.useEffect)((function(){K("/payouts/info","GET").then((function(e){c((function(a){a.error=null,a.loading=!1,a.twData=e}))}),(function(e){c((function(a){a.error=e,a.loading=!1,a.twData=null}))}))}),[c]);var i=null,m="success";return r.loading?(i=l.a.createElement(T.a,{icon:"spinner",pulse:!0}),m=null):r.twData&&!r.twData.active&&(i=l.a.createElement(T.a,{icon:"exclamation-triangle"}),m="warning"),l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{variant:m,size:"sm",onClick:o},i," Account: ",e.auth.user?e.auth.user.currency:""),l.a.createElement(Z.a,{show:r.showModal,onHide:o,size:"lg","aria-labelledby":"addDomainTitle"},l.a.createElement(Z.a.Header,{className:"bg-fade",closeButton:!0},l.a.createElement(Z.a.Title,{id:"addDomainTitle"},l.a.createElement(T.a,{icon:"at"})," Account information")),l.a.createElement(Z.a.Body,null,r.loading&&l.a.createElement(we,null),r.error&&l.a.createElement(de.a,{variant:"danger"},String(r.error)),!r.loading&&r.twData&&l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{bordered:!0,responsive:!0,size:"sm"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Account holder name"),l.a.createElement("td",null,r.twData.accountHolderName)),l.a.createElement("tr",null,l.a.createElement("th",null,"Email"),l.a.createElement("td",null,r.twData.details.email)),l.a.createElement("tr",null,l.a.createElement("th",null,"Account Status"),l.a.createElement("td",{className:z()({"text-success":r.twData.active,"text-danger":!r.twData.active})},r.twData.active?"Active":"Inactive")))),l.a.createElement("div",{className:"mt-4 text-muted"},l.a.createElement("small",null,"Your account data (personal information and banking details) are only stored by TransferWise. TransferWise generates a random unique identifier for your account, which is the only data we store, allowing us to send you payments. ",l.a.createElement("br",null),"The data displayed here is loaded directly from TransferWise."))))))},Ne=function(){var e=E(),a=e.state,t=e.dispatch,n=Object(ue.a)({recipient:{accountHolderName:"",email:"",currency:"GBP"},saving:!1,error:null,recipientResponse:null}),r=Object(s.a)(n,2),c=r[0],o=r[1],i=function(e){return function(a){if(a&&a.currentTarget){var t=a.currentTarget.value;o((function(a){a.recipient[e]=t}))}}},m=function(){var e=Object(U.a)(W.a.mark((function e(a){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),o((function(e){e.saving=!0})),e.prev=2,e.next=5,K("/payouts","PUT",c.recipient);case 5:n=e.sent,o((function(e){e.saving=!1,e.recipientResponse=n})),t({type:"setPayoutsTransferwise",payload:n.recipient}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o((function(a){a.saving=!1,a.error=e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}(),u=function(){var e=Object(U.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("/payouts","POST",c.recipient);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=a.auth.user&&a.auth.user.transferwise_id;return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement("title",null,"Payouts")),l.a.createElement("div",{className:"header bg-gradient"},l.a.createElement(ee,null)),l.a.createElement(w.a,{className:"content padded"},l.a.createElement(v.a,null,l.a.createElement("div",{className:"dashboard-widget"},l.a.createElement(w.a,null,l.a.createElement(v.a,null,l.a.createElement("h2",null,"Payouts")),l.a.createElement(v.a,{className:"text-right"},l.a.createElement(ve,null))),c.saving&&l.a.createElement("p",null,"Processing..."),c.error&&l.a.createElement(de.a,{variant:"danger"},c.error),c.recipientResponse&&l.a.createElement(de.a,{variant:"info"},"TransferWise will email you with a link to collect your bank account details. ",l.a.createElement("br",null),"Once you provide your bank account details securely to TransferWise we will be able to send payouts."),!c.saving&&!c.error&&!d&&l.a.createElement(v.a,{md:{span:6,offset:3}},l.a.createElement(Ee.a,{onSubmit:m},l.a.createElement("h3",{className:"mb-4"},"Set up payment information"),l.a.createElement(Ee.a.Group,null,l.a.createElement(Ee.a.Label,null,"Account Holder Name"),l.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter name",value:c.recipient.accountHolderName,onChange:i("accountHolderName")})),l.a.createElement(Ee.a.Group,null,l.a.createElement(Ee.a.Label,null,"Email address"),l.a.createElement(Ee.a.Control,{type:"email",placeholder:"Enter email",value:c.recipient.email,onChange:i("email")})),l.a.createElement(Ee.a.Group,null,l.a.createElement(Ee.a.Label,null,"Currency"),l.a.createElement(Ee.a.Control,{as:"select",value:c.recipient.currency,onChange:i("currency")},l.a.createElement("option",null,"GBP"),l.a.createElement("option",null,"EUR"),l.a.createElement("option",null,"USD"))),l.a.createElement("p",null,l.a.createElement(x.a,{variant:"primary",type:"submit",size:"sm"},l.a.createElement(T.a,{icon:"save"})," Save")),l.a.createElement("div",{className:"mt-4 text-muted"},l.a.createElement("small",null,"Your account data (name, email address and currency) are only stored by TransferWise. We will store a numerical identifier for your account that allows us to send you payments.")))),d&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,null),l.a.createElement(x.a,{size:"sm",onClick:u},"Send sample payout")),l.a.createElement("div",{className:"text-right"},l.a.createElement(be,null))))))},ke=t(139),xe=t(69),Te=t.n(xe),Se=function(e){return l.a.createElement("ul",{className:Te.a.wizard},e.steps.map((function(a,t){var n,r=z()((n={},Object(ke.a)(n,Te.a.done,t<=e.active),Object(ke.a)(n,Te.a.active,t===e.active),n));return l.a.createElement("li",{key:a,className:r},l.a.createElement("div",{className:Te.a.step},t+1),l.a.createElement("div",{className:Te.a.label},a))})))},Oe=function(e){var a=Object(ue.a)({domain:"",validated:!1}),t=Object(s.a)(a,2),n=t[0],r=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee.a,{validated:n.validated,onSubmit:function(a){a.preventDefault();var t=a.currentTarget;r((function(e){e.validated=!0})),t.checkValidity()&&e.next(n.domain)}},l.a.createElement(Ee.a.Group,null,l.a.createElement(Ee.a.Label,null,"Domain"),l.a.createElement(Ee.a.Control,{required:!0,type:"text",placeholder:"Enter domain",value:n.domain,onChange:function(e){if(e&&e.currentTarget){var a=e.currentTarget.value;r((function(e){e.domain=a}))}},title:"Please enter a domain owned by you (e.g. google.com)"}),l.a.createElement(Ee.a.Control.Feedback,{type:"invalid"},"Make sure it's a valid domain name!")),l.a.createElement("p",{className:"text-center"},l.a.createElement(x.a,{variant:"secondary",type:"submit",size:"sm",disabled:n.domain.length<1},"Next"))))},De=function(e){var a=J("/domains/verify/".concat(e.domain),"GET"),t=Object(s.a)(a,3),n=t[0],r=t[1],c=t[2],o=l.a.createElement("p",{className:"text-muted"},l.a.createElement(we,null));return c?l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Verify ownership"),l.a.createElement(de.a,{variant:"warning"},c.message),l.a.createElement("p",{className:"text-center"},l.a.createElement(x.a,{variant:"light",size:"sm",onClick:e.prev},"Back"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Verify ownership"),l.a.createElement("p",null,'In order to add "',l.a.createElement("a",{href:"http://".concat(e.domain)},l.a.createElement("b",null,e.domain)),"\" to your account you'll need to verify it first."),l.a.createElement("p",null,"You can use any of the methods below:"),l.a.createElement("hr",null),l.a.createElement("h4",null,"HTTP-01 challenge"),l.a.createElement("p",null,"Upload a file to ",l.a.createElement("code",null,"http://","<","YOUR_DOMAIN",">","/.well-known/nils")," , so that it is accesible at ",l.a.createElement("a",{href:"http://".concat(e.domain,"/.well-known/nils")},l.a.createElement("b",null,e.domain,"/.well-known/nils"))," * with the following content:"),n?o:l.a.createElement("pre",{className:"code"},l.a.createElement("code",null,r&&r.token)),l.a.createElement("p",{className:"text-muted"},l.a.createElement("small",null,"* We'll try both HTTP and HTTPS when verifying the domain, and it will work if either works.")),l.a.createElement("hr",null),l.a.createElement("h4",null,"DNS-01 challenge"),l.a.createElement("p",null,"This challenge asks you to prove that you control the DNS for your domain name by putting a specific value in a TXT record under that domain name."),l.a.createElement("p",null,"Add the following ",l.a.createElement("b",null,"TXT")," record in your DNS provider at the root."),n?o:l.a.createElement("pre",{className:"code"},l.a.createElement("code",null,"nils=",r&&r.token)),l.a.createElement("p",{className:"text-muted"},l.a.createElement("small",null,"Some DNS providers take up to 24h to propagate changes, your token will not change so you can come back tomorrow and continue the verification process.")),l.a.createElement("hr",null),l.a.createElement("p",{className:"text-center"},l.a.createElement(x.a,{variant:"light",size:"sm",onClick:e.prev,className:"mr-4"},"Back"),l.a.createElement(x.a,{variant:"secondary",size:"sm",onClick:e.next,disabled:n},"Verify")))},je=function(e){var a,t=E().dispatch,r=J("/domains/verify/".concat(e.domain),"POST"),c=Object(s.a)(r,3),o=c[0],i=c[1],m=c[2];return Object(n.useEffect)((function(){i&&t({type:"addDomain",payload:i})}),[i,t]),a=o?l.a.createElement("h3",{className:"text-center text-muted my-5"},l.a.createElement(we,{text:"Verifying..."})):m?l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{variant:"warning"},l.a.createElement("h4",null,"Verification failed"),l.a.createElement("p",null,m.message),l.a.createElement("p",null,"Please double check your verification method and try again."),l.a.createElement("p",null,"If using DNS verification changes may take up to 24h to propagate."))):l.a.createElement(de.a,{variant:"success"},l.a.createElement("p",null,l.a.createElement("b",null,"Verified!")),l.a.createElement("p",null,l.a.createElement("a",{href:"http://".concat(e.domain)},l.a.createElement("b",null,e.domain))," has been added to your account.")),l.a.createElement(l.a.Fragment,null,a,l.a.createElement("p",{className:"text-center pt-4"},!o&&m&&l.a.createElement(x.a,{variant:"light",size:"sm",onClick:e.prev},"Back")))},Ce=function(e){var a,t=Object(ue.a)({showModal:!1,domain:"",currentStep:0,steps:["Add domain","Setup","Verify"]}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=function(){return c((function(e){e.showModal=!e.showModal,e.domain="",e.currentStep=0}))},i=function(){c((function(e){e.currentStep=e.currentStep-1}))};switch(r.currentStep){case 2:a=l.a.createElement(je,{domain:r.domain,next:function(){o()},prev:i});break;case 1:a=l.a.createElement(De,{domain:r.domain,next:function(){c((function(e){e.currentStep=2}))},prev:i});break;case 0:default:a=l.a.createElement(Oe,{next:function(e){c((function(a){a.currentStep=1,a.domain=e}))}})}return l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{variant:e.variant||"secondary",size:"sm",onClick:o},l.a.createElement(T.a,{icon:"plus"})," Add"),l.a.createElement(Z.a,{show:r.showModal,onHide:o,size:"lg","aria-labelledby":"addDomainTitle"},l.a.createElement(Z.a.Header,{className:"bg-fade",closeButton:!0},l.a.createElement(Z.a.Title,{id:"addDomainTitle"},l.a.createElement(T.a,{icon:"at"})," Add Domain")),l.a.createElement(Z.a.Body,null,l.a.createElement(Se,{steps:r.steps,active:r.currentStep}),a,r.currentStep===r.steps.length-1&&l.a.createElement("div",{className:"text-center"},l.a.createElement(x.a,{variant:"light",size:"sm",onClick:o},"Close")))))},_e=function(e){var a=Object(ue.a)({confirmName:"",showModal:!1}),t=Object(s.a)(a,2),n=t[0],r=t[1],c=function(){return r((function(e){e.showModal=!e.showModal,e.confirmName=""}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:c,className:"btn btn-link btn-sm hide text-danger"},l.a.createElement(T.a,{icon:"trash"})," Delete"),l.a.createElement(Z.a,{show:n.showModal,onHide:c,"aria-labelledby":"confirmDeleteTitle"},l.a.createElement(Z.a.Header,{closeButton:!0},l.a.createElement(Z.a.Title,{id:"confirmDeleteTitle"},"Are you absolutely sure?")),l.a.createElement(Z.a.Body,null,l.a.createElement(de.a,{variant:"warning",style:{margin:"-1em -1em 1em"}},"Unexpected bad things will happen if you don\u2019t read this!"),l.a.createElement("p",null,"This action ",l.a.createElement("b",null,"cannot")," be undone. This will permanently delete domain ",l.a.createElement("b",null,e.name)," and associated transactions. Any outstanding balance will stay in your account."),l.a.createElement(Ee.a,{onSubmit:function(){c(),e.onConfirm()}},l.a.createElement(Ee.a.Group,null,l.a.createElement(Ee.a.Label,null,"Please type in the domain name to confirm."),l.a.createElement(Ee.a.Control,{required:!0,type:"text",placeholder:"Enter domain",value:n.confirmName,onChange:function(e){if(e&&e.currentTarget){var a=e.currentTarget.value;r((function(e){e.confirmName=a}))}},title:"Please confirm the domain name"}),l.a.createElement(Ee.a.Control.Feedback,{type:"invalid"},"Make sure it's a valid domain name!")),l.a.createElement("div",{className:"text-center"},l.a.createElement(x.a,{variant:"danger",type:"submit",block:!0,disabled:n.confirmName!==e.name},"Delete"))))))},Ae=function(){var e=E(),a=e.state,t=e.dispatch,r=Object(n.useState)(null),c=Object(s.a)(r,2),o=c[0],i=c[1],m=Object(n.useState)(null),u=Object(s.a)(m,2),d=u[0],h=u[1],p=function(){var e=Object(U.a)(W.a.mark((function e(a){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(a.domain),e.prev=1,e.next=4,K("/domains/".concat(a.uuid),"DELETE");case 4:i(null),t({type:"deleteDomain",payload:a.uuid}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),i(null),h(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),f=function(e){return function(){p(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement("title",null,"Domains")),l.a.createElement("div",{className:"header bg-gradient"},l.a.createElement(ee,null)),l.a.createElement(w.a,{className:"content padded"},l.a.createElement(v.a,null,l.a.createElement("div",{className:"dashboard-widget"},l.a.createElement(w.a,null,l.a.createElement(v.a,null,l.a.createElement("h2",null,"Domains")),l.a.createElement(v.a,{className:"text-right"},a.domains.length>0&&l.a.createElement(Ce,null))),d&&l.a.createElement(de.a,{variant:"danger"},d),l.a.createElement("div",{className:"table-widget"},a.domains.length>0&&l.a.createElement(re.a,{responsive:!0,striped:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Domain"),l.a.createElement("th",null,"Balance"),l.a.createElement("th",null,"Added on"),l.a.createElement("th",{style:{width:100}},"Actions"))),l.a.createElement("tbody",null,a.domains.map((function(e){return l.a.createElement("tr",{key:e.uuid,className:z()("hover-show",{"text-muted":o===e.domain})},l.a.createElement("td",null,e.domain),l.a.createElement("td",null,e.balance),l.a.createElement("td",null,Q(e.created_on)),l.a.createElement("td",{className:"text-rigth"},o?l.a.createElement("span",{className:"text-muted"},l.a.createElement(we,{text:""})):l.a.createElement("span",{className:"hide text-danger"},l.a.createElement(_e,{name:e.domain,onConfirm:f(e)}))))})))),a.domains.length<1&&l.a.createElement(de.a,{variant:"info",className:"mx-3 text-center"},l.a.createElement("p",null,"Get started with your first domain"),l.a.createElement(Ce,{variant:"info"})))))))},Fe=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement("title",null,"Settings")),l.a.createElement("div",{className:"header bg-gradient"},l.a.createElement(ee,null)),l.a.createElement(w.a,{className:"content padded"},l.a.createElement(v.a,null,l.a.createElement("div",{className:"dashboard-widget"},l.a.createElement("h2",null,"Settings"),l.a.createElement(Ee.a,null,l.a.createElement(Ee.a.Group,{controlId:"formBasicEmail"},l.a.createElement(Ee.a.Label,null,"Email address"),l.a.createElement(Ee.a.Control,{type:"email",placeholder:"Enter email"}),l.a.createElement(Ee.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(Ee.a.Group,{controlId:"formBasicPassword"},l.a.createElement(Ee.a.Label,null,"Password"),l.a.createElement(Ee.a.Control,{type:"password",placeholder:"Password"})),l.a.createElement(Ee.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(Ee.a.Check,{type:"checkbox",label:"Check me out"})),l.a.createElement(x.a,{variant:"primary",type:"submit"},l.a.createElement(T.a,{icon:"save"})," Save changes"))))))},Be=(t(480),function(){var e=E(),a=e.state,t=e.dispatch,r=J("/users/balance","GET"),c=Object(s.a)(r,2)[1],o=J("/payouts","GET"),i=Object(s.a)(o,2)[1];return Object(n.useEffect)((function(){c&&t({type:"balance",payload:c}),i&&t({type:"payouts",payload:i})}),[c,i,t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement("title",null,"Dashboard")),l.a.createElement(b.d,null,l.a.createElement(b.b,{path:"/dashboard/domains",component:Ae}),l.a.createElement(b.b,{path:"/dashboard/payouts",component:Ne}),l.a.createElement(b.b,{path:"/dashboard/settings",component:Fe}),a.domains.length>0&&l.a.createElement(b.b,{path:"/dashboard/balance",component:me}),a.domains.length>0&&l.a.createElement(b.b,{path:"/dashboard/",component:oe}),a.domains.length<1&&l.a.createElement(b.a,{to:"/dashboard/domains"})))}),Pe=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement("div",{className:"bg-angle"}),l.a.createElement("section",null,l.a.createElement(_,null),l.a.createElement(g.a,null,l.a.createElement(w.a,null,l.a.createElement(v.a,{md:{span:6,offset:3}},l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement("h4",{className:"my-2",style:{color:"#fff"}},l.a.createElement(we,null)))))))))},Ie=function(e){var a=E().state;return a.auth.checked?a.auth.loggedIn?l.a.createElement(b.b,{path:e.path,exact:e.exact,component:e.component}):l.a.createElement(b.a,{to:"/login"}):l.a.createElement(Pe,null)},Le=function(e){var a=E().state;return a.auth.checked?a.auth.loggedIn?l.a.createElement(b.a,{to:"/dashboard"}):l.a.createElement(b.b,{path:e.path,exact:e.exact,component:e.component}):l.a.createElement(Pe,null)};var ze=function(){var e=E(),a=e.state,t=e.dispatch,l=a.auth.checked;Object(n.useEffect)((function(){l||K("/users/current","GET").then((function(e){if(!e||!e.user.uuid)return console.warn("Invalid user object"),void t({type:"login",payload:null});t({type:"login",payload:e})})).catch((function(e){t({type:"login",payload:null})}))}),[l,t])},Ge=t(227),He=t.n(Ge),qe=function(){return E().state.offline?l.a.createElement("div",{className:He.a.offline},"You seem to be offline! Please try again later"):null};!function(){var e=y.b,a=y.a;h.b.add(p.f,p.h,p.d,p.g,p.e,p.b,p.c,p.o,p.n,p.m,p.l,f.a,p.j,p.a,e,a,p.p,p.k,p.q,p.i)}();var Me=l.a.createElement(o.a,{basename:"/nils-web"},l.a.createElement(I.a,{titleTemplate:"%s | Nils"}),l.a.createElement((function(e){var a=l.a.useReducer(m,u),t=Object(s.a)(a,2),n={state:t[0],dispatch:t[1]};return l.a.createElement(d.Provider,{value:n},e.children)}),null,l.a.createElement((function(){return ze(),l.a.createElement(l.a.Fragment,null,l.a.createElement(qe,null),l.a.createElement(b.d,null,l.a.createElement(Le,{path:"/login",component:q}),l.a.createElement(Ie,{path:"/dashboard",component:Be}),l.a.createElement(b.b,{path:"/",component:B})))}),null)));c.a.render(Me,document.getElementById("root"))},69:function(e,a,t){e.exports={wizard:"wizard_wizard__1NAUS",step:"wizard_step__2KcMD",label:"wizard_label__1iCRP",active:"wizard_active__1scTV",done:"wizard_done__24428"}}},[[253,1,2]]]);
//# sourceMappingURL=main.3bca25c5.chunk.js.map